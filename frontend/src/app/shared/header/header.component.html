<header class="header">
  <div class="left">
    <a class="logo" routerLink="/">ðŸ›’ MyShop</a>
    <nav class="nav">
      <a routerLink="/products">Products</a>
      <a routerLink="/cart">Cart (<span>{{ (cartCount$ | async) || 0 }}</span>)</a>
      <a routerLink="/profile">Profile</a>
    </nav>
  </div>

  <div class="search">
    <input [(ngModel)]="query" (keyup.enter)="doSearch()" placeholder="Search products...">
    <button (click)="doSearch()">Search</button>
  </div>

  <div class="auth">
    <ng-container *ngIf="(user$ | async) as u; else guest">
      <span class="hello">Hi, {{u.name}}</span>
      <button class="link" (click)="logout()">Logout</button>
    </ng-container>
    <ng-template #guest>
      <a class="link" routerLink="/login">Login</a>
      <a class="link" routerLink="/signup">Signup</a>
    </ng-template>
  </div>
</header>
